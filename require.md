第2章 开发环境及相关技术
2.1 开发环境
2.1.1 硬件环境配置
系统开发与部署的硬件环境遵循“低成本、高适配”原则，分为开发环境与部署环境两类：
1.开发环境配置：CPU为Intel Core i5及以上，内存≥8GB，硬盘≥256GB SSD，操作系统为Windows 10/11 64位，满足多线程开发、算法调试的硬件需求；
2.部署环境配置：采用校园私有服务器，CPU为Intel Xeon E5-2620 v4，内存≥16GB，硬盘≥1TB，操作系统为CentOS 7.9，支持≥100并发用户访问，满足校园场景的使用规模。
2.1.2 软件环境安装（Python版本、开发工具）
核心软件环境配置如下：
1.Python环境：安装Python 3.9.x版本（兼容Django 4.2.x、Flask 2.3.x），通过pip管理依赖包，核心依赖包括Django==4.2.8、Flask==2.3.3、scikit-learn==1.3.2、pymysql==1.1.0；
2.开发工具：后端采用PyCharm Professional 2023.2，支持代码调试、数据库联动；前端采用Visual Studio Code 1.85.0，搭配Vetur插件实现Vue.js开发；数据库管理采用Navicat Premium 16，支持MySQL可视化操作；
3.辅助工具：安装Postman 10.20.0用于接口测试，Git 2.42.0用于版本控制，确保开发过程的规范性与可追溯性。
2.2 软件系统架构分析与选型
2.2.1 适配校园场景架构的分析
校园闲置物品匹配系统的用户群体为在校师生，使用场景涵盖宿舍、教室、图书馆等，终端设备以PC、智能手机为主，对架构的核心要求为“跨终端访问、低运维成本、易扩展”。传统C/S架构需安装客户端，适配不同终端的成本高，且校园用户分布分散，客户端更新维护难度大；B/S架构基于浏览器访问，无需安装额外软件，可适配PC、手机等多终端，且服务器集中部署便于校园管理部门运维，更契合校园场景的使用与管理需求。
2.2.2 B/S架构选型及适配校园场景的优势
系统采用B/S（Browser/Server）三层架构（表现层、业务逻辑层、数据层），适配校园场景的核心优势体现在四方面：
1.访问便捷性：用户通过浏览器即可访问系统，无需适配不同操作系统（Windows、Android、iOS），适配校园内多样化的终端设备；
2.运维成本低：系统更新、漏洞修复仅需在服务器端完成，无需逐一对客户端升级，降低校园信息化管理部门的运维压力；
3.权限管控灵活：通过服务器端统一配置用户权限（普通用户/管理员），可快速适配校园不同角色（学生、教职工、管理员）的功能访问需求；
4.数据安全性高：核心数据（用户信息、交易记录）集中存储在服务器，便于校园管理部门进行数据备份、安全审计，降低数据泄露风险。
2.3 相关技术介绍
2.3.1 Python后端框架（Django/Flask）及应用
2.3.1.1 Django框架及应用
Django作为全栈式Web框架，采用MVT（Model-View-Template）设计模式，是系统核心开发框架，主要应用于：
1.核心模块开发：用户管理（注册、登录、认证）、闲置物品发布/审核、诚信值管理等模块，依托Django ORM实现数据库交互，无需编写原生SQL，提升开发效率；
2.后台管理：利用Django Admin快速构建后台管理界面，实现用户、物品、举报信息的可视化管理；
3.安全防护：内置CSRF防护、XSS过滤、密码加密等机制，保障用户数据安全；
4.路由管理：通过URLconf实现URL与视图函数的映射，规范接口设计，便于前端调用。
2.3.1.2 Flask框架及应用
Flask为轻量级Web框架，核心应用于高频访问的算法接口开发：
1.心愿单匹配接口：封装余弦相似度匹配算法，提供RESTful API接口，响应时间≤500ms；
2.智能定价接口：集成线性回归定价模型，接收物品特征参数（品类、新旧程度等），实时返回定价参考；
3.数据缓存接口：结合Redis实现热门物品数据缓存，提升接口访问效率。
2.3.2 数据库技术（MySQL/SQLite）及数据处理
2.3.2.1 MySQL及应用
MySQL作为关系型数据库，是系统核心数据存储引擎，主要用于存储结构化数据：
1.核心数据存储：用户信息（账号、认证信息、诚信值）、物品信息（品类、价格、取货地点）、交易记录、心愿单数据、举报信息等；
2.事务处理：利用InnoDB存储引擎支持ACID事务特性，确保交易记录、诚信值更新等操作的原子性；
3.索引优化：为物品名称、品类、价格等字段建立索引，提升检索效率，物品查询响应时间≤100ms。
2.3.2.2SQLite及应用
SQLite作为轻量级嵌入式数据库，主要用于开发阶段的本地测试：
1.开发调试：无需搭建独立数据库服务器，快速完成功能模块的本地调试；
2.数据迁移：测试完成后，通过Django ORM实现SQLite数据向MySQL的无缝迁移，降低开发与部署的衔接成本。
2.3.2.3数据处理技术
基于Pandas、NumPy实现数据预处理：
1.数据清洗：处理缺失值（如物品价格缺失填充均值）、异常值（如定价远超区间的数值过滤）；
2.特征工程：对物品品类、新旧程度等分类变量进行One-Hot编码，为智能算法提供标准化输入；
3.数据统计：分析物品交易热度、匹配成功率等指标，为系统优化提供数据支撑。
2.3.3 智能匹配算法（关键词检索、协同过滤）实现
2.3.3.1 关键词检索算法
基于jieba分词与词袋模型实现，核心步骤：
1.文本预处理：对心愿单需求描述、物品描述进行分词，去除停用词（如“的”“了”），提取核心关键词；
2.关键词编码：采用词袋模型将关键词转换为向量形式，构建文本特征向量；
3.初筛匹配：计算心愿单与物品关键词的交集，保留交集数≥2的物品作为候选集，缩小匹配范围。
2.3.3.2 协同过滤算法
采用基于用户的协同过滤算法实现个性化推荐，核心步骤：
1.构建用户-物品交互矩阵：记录用户浏览、收藏、交易等行为；
2.计算用户相似度：采用皮尔逊相关系数计算用户间相似度，筛选Top-N相似用户；
3.生成推荐列表：将相似用户交易/收藏的物品推荐给目标用户，提升物品曝光率。
2.3.3.3融合匹配策略
结合关键词检索与余弦相似度实现精准匹配：
1.特征向量构建：融合关键词、价格、新旧程度、取货地点等特征，赋予差异化权重（关键词权重0.5，价格0.2，新旧程度0.15，取货地点0.15）；
2.相似度计算：计算心愿单与候选物品的余弦相似度，按相似度排序，取Top-5作为匹配结果；
3.结果推送：将匹配结果实时推送至用户端，支持一键联系发布者。
2.3.4 实名认证接口对接技术
系统对接阿里云实人认证API实现实名认证，核心流程：
1.接口申请：在阿里云控制台申请实人认证服务，获取AppCode与API地址；
2.数据传输：用户提交身份证号、姓名、人脸图像，通过HTTPS加密传输至阿里云接口；
3.结果核验：接收接口返回的认证结果（通过/失败），同步至用户信息表；
4.校园身份核验：对接校园教务系统API，验证学号/工号、姓名、校园卡信息的一致性，完成双重认证。
接口对接采用Python requests库实现，设置超时时间5s，失败重试次数3次，确保认证流程的稳定性。
2.4 数据库（MySQL）特性与应用
2.4.1 MySQL核心特性
MySQL适配系统开发的核心特性包括：
1.高稳定性：支持7×24小时不间断运行，平均无故障时间（MTBF）≥1000小时，满足校园系统的持续访问需求；
2.高并发处理：支持≥100并发用户访问，通过连接池技术优化数据库连接，避免连接耗尽；
3.数据安全性：支持用户权限分级管理（普通用户仅可访问自身数据，管理员可访问全量数据），采用数据加密技术存储敏感信息（如身份证号、密码）；
4.可扩展性：支持主从复制，便于后续系统扩容，满足用户规模增长的存储需求。
2.4.2 MySQL在系统中的应用设计
基于MySQL的特性，系统数据库设计遵循“规范化、高性能”原则：
1.表结构设计：采用第三范式（3NF）设计数据表，避免数据冗余，核心表包括用户表（user）、物品表（goods）、心愿单表（wishlist）、交易记录表（transaction）、诚信值表（credit）、举报表（report）；
2.索引设计：为高频查询字段建立索引，如goods表的name（物品名称）、category（品类）字段，wishlist表的keywords（关键词）字段；
3.分表策略：针对交易记录表，按时间分表（如transaction_202501、transaction_202502），提升大数据量下的查询效率；
4.备份策略：配置每日自动备份，备份文件存储至校园服务器，保留30天备份记录，防止数据丢失。







第 3 章 系统可行性研究与需求分析
3.1 系统可行性研究
3.1.1 经济可行性（校园低成本开发与应用）
本系统的开发与应用遵循 “低成本、高性价比” 原则，经济可行性显著。开发层面，系统基于 Python 开源技术栈（Django/Flask 框架、MySQL 数据库等）构建，核心技术与工具均为免费开源资源，无需支付商业软件授权费用；功能设计聚焦基础核心模块，规避复杂高成本功能（如真实支付接口对接、复杂算法模型开发），大幅降低开发周期与人力成本。应用层面，系统部署于校园现有服务器或低成本云服务器（如阿里云轻量应用服务器），运维仅需基础服务器维护操作，无需额外投入专业运维资源；用户使用无需支付任何费用，降低推广门槛，可快速覆盖校园用户群体。从长期效益来看，系统促进校园闲置资源循环利用，减少资源浪费，间接降低学生生活成本，符合校园经济节约的发展导向，具备充分的经济可行性。
3.1.2 技术可行性（Python 技术栈适配性）
系统采用的 Python 技术栈成熟稳定，完全适配轻量化功能开发需求，技术可行性充分。核心技术支撑方面，Python 的 Django/Flask 框架提供完整的 Web 开发解决方案，可快速实现用户管理、物品发布、聊天窗口等基础功能，开发效率高且学习成本低；jieba 分词库可满足心愿单关键词检索的核心需求，无需复杂算法开发；MySQL 数据库适配结构化数据存储，支持用户信息、物品数据、聊天记录等数据的稳定存储与高效查询。功能实现难度方面，实名认证对接阿里云开源或低成本实人认证 API，接口文档完善，调用逻辑简单；模拟支付功能仅需通过数据库字段状态变更实现，无需对接第三方支付平台；聊天窗口采用基础的前后端数据交互模式，实现文本消息的发送与接收，技术实现难度低。此外，Python 技术社区资源丰富，遇到开发问题可快速获取解决方案，进一步保障开发过程的顺利推进。
3.1.3 市场可行性（校园闲置交易与心愿匹配需求）
校园场景的用户需求与系统功能高度契合，市场可行性突出。需求层面，高校学生群体存在大量闲置物品（教材、电子产品、生活用品等）流转需求，传统交易方式（社群转发、线下摆摊）信息分散、效率低下，而系统提供的标准化发布与匹配功能，可有效解决这一痛点；同时，学生的个性化物品需求（临时使用、低价购置）通过心愿单匹配功能快速满足，契合校园场景的即时性需求。用户接受度方面，系统功能简洁实用，操作流程简单直观，符合学生群体的使用习惯；实名认证与诚信值机制提升交易安全性，降低用户信任门槛；免费使用模式与校园封闭环境的用户集中性，便于快速推广与用户积累。此外，系统无直接竞争对手，现有校园二手交易渠道功能不完善，为本系统的应用推广提供了广阔空间，具备明确的市场可行性。
3.2 系统交易与匹配流程设计
3.2.1 闲置物品交易全流程（发布 - 咨询 - 成交）
系统闲置物品交易流程聚焦简洁性与实用性，核心流程如下：
物品发布阶段：用户完成实名认证后，进入闲置物品发布页面，填写物品名称、品类、详细描述、自主定价等信息，上传物品图片，提交发布申请；系统对发布信息进行基础合规性校验（如无违规内容），校验通过后物品即时上架展示，无需人工审核。
咨询沟通阶段：买家浏览物品详情页后，可通过页面内置聊天窗口向卖家发起咨询，沟通物品细节（新旧程度、使用情况等）与交易相关事宜；聊天记录实时存储至数据库，支持双方查看历史消息。
交易达成阶段：买卖双方协商一致后，买家点击物品详情页 “发起交易” 按钮，系统生成交易订单；买家点击 “模拟支付” 按钮，系统直接将订单状态更新为 “已支付”，完成支付流程模拟；卖家收到订单支付通知后，与买家通过聊天窗口协商交易交付方式（当面交付等）；交付完成后，买家点击 “确认收货”，订单状态更新为 “交易完成”，交易流程结束。
后续评价阶段：交易完成后，双方可相互进行评价（好评 / 中评 / 差评），评价结果将作为诚信值调整的依据。
3.2.2 心愿单填写 - 匹配 - 推送流程
心愿单匹配流程以轻量化关键词检索为核心，确保操作简单、匹配高效，具体流程如下：
心愿单填写阶段：用户进入心愿单填写页面，输入所需物品名称、品类、期望价格区间、需求描述等信息，提交后系统存储至心愿单数据库，并自动提取核心关键词（如物品名称、品类）。
智能匹配阶段：系统定时（每 2 小时）触发匹配任务，基于心愿单提取的关键词，检索平台已上架的闲置物品，筛选关键词重合数≥1 的物品作为匹配结果；按关键词重合数量从高到低排序，生成匹配列表。
结果推送阶段：系统通过站内消息向用户推送匹配结果通知，用户点击通知可查看匹配物品详情；若用户对某一匹配物品感兴趣，可直接通过详情页聊天窗口联系卖家，发起咨询与交易；用户也可在心愿单管理页面查看历史匹配记录，管理个人心愿单（编辑、删除）。
3.3 系统功能需求分析
3.3.1 闲置物品发布与交易模块需求
物品发布功能：支持用户填写物品名称、品类（下拉选择，如教材、电子产品、生活用品等）、详细描述、自主定价，上传 1-5 张物品图片；支持预览发布内容，确认后提交发布；发布信息需通过基础合规性校验（禁止含违规关键词）。
物品展示功能：系统首页按发布时间倒序展示闲置物品，支持按品类筛选、关键词搜索；物品详情页展示完整物品信息（名称、价格、描述、图片、发布者昵称、诚信值），提供 “发起聊天”“发起交易” 按钮。
聊天窗口功能：支持买卖双方一对一文本聊天，实时发送与接收消息；显示对方昵称与头像；支持查看历史聊天记录，消息发送状态标识（已发送 / 已读）。
交易与模拟支付功能：支持买家发起交易，生成包含物品信息、交易双方、交易金额的订单；买家点击 “模拟支付” 后，订单状态自动更新为 “已支付”；支持卖家查看订单状态，买家确认收货后订单状态更新为 “交易完成”；提供订单管理功能，用户可查看个人发起 / 收到的订单及状态。
3.3.2 心愿单填写与匹配模块需求
心愿单填写功能：支持用户输入所需物品名称、选择品类、设置期望价格区间（可选）、填写需求描述（如 “接受八成新及以上”）；支持提交多个心愿单，每个心愿单可独立管理。
心愿单管理功能：用户可在个人中心查看已提交的心愿单列表，支持编辑心愿单信息、删除不需要的心愿单；显示心愿单匹配状态（未匹配 / 已匹配）。
智能匹配功能：系统基于心愿单关键词检索平台闲置物品，筛选符合条件的匹配结果；按关键词重合数量排序，确保匹配精准度。
结果推送与查看功能：匹配结果通过站内消息推送至用户；用户可查看匹配物品详情，快速发起聊天；支持查看历史匹配记录，跟踪心愿单匹配情况。
3.3.3 用户实名认证模块需求
认证信息提交功能：用户进入实名认证页面，填写真实姓名、身份证号码，上传清晰的人脸图像（或身份证正反面照片）；支持信息预览与修改，确认后提交认证申请。
认证审核功能：系统对接第三方实人认证 API，自动校验用户提交的姓名、身份证号与人脸信息的一致性；审核结果实时反馈给用户（认证通过 / 失败），失败需提示具体原因（如信息不匹配、图像模糊）。
认证状态展示功能：用户个人中心显示实名认证状态（未认证 / 已认证）；未认证用户发布物品、发起交易时，系统提示完成实名认证，限制核心功能使用。
信息安全需求：用户实名认证信息（身份证号、人脸图像）通过加密方式存储，仅管理员可在合规前提下查看，保障用户隐私安全。
3.3.4 诚信与举报管理模块需求
诚信值管理功能：用户初始诚信值设为 100 分（满分）；交易完成后，双方可相互评价，好评则诚信值 + 1 分，中评不加分不减分，差评则诚信值 - 2 分；诚信值在用户个人中心公开显示，供交易双方参考。
举报功能：用户可对违规行为（虚假物品信息、恶意聊天、交易欺诈等）发起举报；举报时需选择举报类型，填写举报描述，上传相关证据（如聊天记录截图）；支持查看举报处理进度。
后台评审功能：管理员可在后台查看举报列表，包含举报内容、证据、举报对象、举报时间等信息；管理员审核后，对确认违规的用户进行诚信值扣除（单次扣除 5-20 分，根据违规严重程度判定），并通过站内消息通知违规用户；对违规物品进行下架处理。
客服介入功能：用户举报后若对处理结果不满意，或遇到复杂交易纠纷，可发起客服介入申请；管理员通过后台与双方沟通，协调处理纠纷，确保处理结果公平公正。










第 4 章 系统设计
4.1 设计目标
4.1.1 核心目标（高效闲置交易 + 精准心愿单匹配）
系统核心目标聚焦 “轻量化、高效化、精准化”，满足校园用户基础交易与需求匹配需求。高效闲置交易方面，设计简洁流畅的物品发布、咨询、交易流程，减少操作步骤，确保用户可快速完成闲置物品上架与交易达成。精准心愿单匹配方面，基于轻量化关键词检索算法，实现需求与闲置物品的快速匹配；优化匹配结果推送机制，确保用户及时获取符合需求的物品信息，缩短需求满足周期。
4.1.2 辅助目标（诚信管理）
以诚信值体系为核心，构建安全可信的校园交易环境。设计科学合理的诚信值量化规则，实现诚信值的自动更新与公开展示，为用户交易决策提供参考；建立便捷的举报与后台评审机制，确保违规行为得到及时处理，维护平台秩序；通过诚信值约束用户行为，减少虚假信息、交易欺诈等违规现象，降低交易纠纷发生率，提升用户信任度。
4.2 系统总体结构规划
4.2.1 系统功能模块划分（前台 + 后台）
系统采用 “前台 - 后台” 二级架构，基于 B/S 模式设计，功能模块划分遵循 “职责清晰、功能独立” 原则，具体划分如下：
4.2.1.1 前台模块（面向普通用户）
用户中心模块：包含注册登录、实名认证、个人信息管理、诚信值查询、订单管理、聊天记录管理等功能；
闲置物品模块：涵盖物品发布、物品浏览、物品搜索 / 筛选、物品详情查看等功能；
交易模块：实现聊天沟通、交易发起、订单状态更新等功能；
心愿单模块：包含心愿单填写、心愿单管理（编辑 / 删除）、匹配结果查看、消息推送接收等功能；
举报模块：提供违规行为举报入口，支持举报信息提交与处理进度查询功能。
4.2.1.2 后台模块（面向管理员）
用户管理模块：支持用户列表查看、违规用户处理等功能；
闲置物品管理模块：包含物品审核（违规物品筛查）、物品下架、物品分类管理等功能；
交易管理模块：支持交易订单查询、交易纠纷处理、模拟交易数据统计等功能；
诚信管理模块：涵盖诚信值调整、举报信息审核、违规处理等功能。
4.2.2 核心模块关联逻辑（交易与匹配模块交互）
系统核心模块以 “用户数据” 为枢纽，形成紧密的交互逻辑，重点聚焦交易模块与心愿单匹配模块的联动，具体关联如下：
数据共享逻辑：用户中心模块存储的实名认证状态、诚信值等核心数据，同步共享至闲置物品模块（物品发布权限控制、诚信值展示）、交易模块（交易权限开通、评价关联）、心愿单模块（匹配结果推送对象校验），确保数据一致性；
交易与物品模块交互：用户通过闲置物品模块浏览详情后，触发交易模块的聊天沟通或交易发起功能；交易状态变更（如已支付、已完成）同步反馈至物品模块，交易完成后物品自动下架，避免重复交易；
心愿单与物品模块交互：心愿单模块提交的需求数据，通过关键词提取后，与闲置物品模块的物品数据进行匹配运算；匹配结果生成后，关联至物品模块的详情页，支持用户直接从匹配结果跳转至物品详情并发起交易；
诚信管理与核心模块交互：交易模块的评价结果直接驱动诚信管理模块的诚信值更新；举报模块提交的违规信息，经后台审核后，通过诚信管理模块调整违规用户诚信值，并同步至用户中心模块展示，同时限制违规用户在物品发布、交易等模块的部分功能权限。
4.3 系统功能模块设计
4.3.1 前台模块（闲置发布、心愿单管理、商品浏览）
4.3.1.1 闲置物品发布模块
功能流程：用户登录→进入发布页面→填写物品信息（名称、品类、描述、价格）→上传图片→提交校验→校验通过后物品上架；
关键设计：品类采用下拉选择框（预设教材、电子产品、生活用品等大类），降低用户输入成本；图片支持批量上传与预览删除；提交时触发合规性校验，过滤违规关键词，校验失败则返回具体修改提示。
4.3.1.2 商品浏览模块
功能流程：用户登录→进入首页浏览物品列表→可通过品类筛选、关键词搜索缩小范围→点击物品进入详情页；
关键设计：物品列表采用卡片式展示，包含物品名称、价格、缩略图、发布者昵称、诚信值等核心信息；搜索功能支持模糊匹配，输入关键词实时联想推荐；详情页布局包括图片展示，物品信息展示与操作按钮（聊天、交易）。
4.3.1.3 心愿单管理模块
功能流程：用户登录→进入心愿单页面→填写需求信息→提交心愿单→系统提取关键词→定期匹配→接收推送结果→查看详情 / 发起交易；
关键设计：心愿单填写页面需求描述提供输入提示（如 “可说明物品可接受的新旧程度、功能要求等”）；心愿单列表展示需求名称、发布时间、匹配状态、匹配数量，支持编辑、删除操作；匹配结果页面按关键词重合度排序，标注匹配关键词，方便用户快速识别契合点。
4.3.2 后台模块（用户管理、闲置物品发布管理、诚信管理）
4.3.2.1 用户管理模块
功能设计：支持按用户名、手机号、实名认证状态筛选用户列表；列表展示用户 ID、用户名、手机号、实名认证状态、诚信值、注册时间等信息；支持查看用户详细信息（不含隐私数据），对未通过实名认证的用户进行人工复核，对违规用户执行账号限制（如禁止发布物品）操作。
4.3.2.2 闲置物品发布管理模块
功能设计：支持按物品名称、发布者、发布时间、状态（上架 / 下架）筛选物品列表；列表展示物品 ID、名称、品类、价格、发布者、发布时间、审核状态等信息；支持查看物品完整信息与图片，对违规物品（如虚假信息、违规内容）执行下架操作，下架时可填写原因并通知发布者；
批量操作：支持勾选多个物品进行批量下架，提升管理效率；提供物品发布数据统计（日 / 周 / 月发布量、品类分布），辅助管理决策。
4.3.2.3 诚信管理模块
功能设计：支持按用户名、诚信值区间筛选用户诚信列表；列表展示用户 ID、用户名、当前诚信值、历史变更记录；支持手动调整用户诚信值（需填写调整原因），关联违规类型（如虚假信息、交易欺诈）；查看举报列表时，可直接跳转至对应用户的诚信管理页面，同步处理违规与诚信值调整；
规则配置：支持设置诚信值初始值、评价加减分规则、违规扣分标准，规则变更后即时生效，适用于后续诚信值计算。
4.4 数据库设计
4.4.1 数据库概念模型设计（ER 图）
系统数据库采用 MySQL 构建，核心实体包括用户（User）、闲置物品（Goods）、心愿单（Wishlist）、订单（Order）、聊天记录（Chat）、举报信息（Report）、诚信值记录（CreditRecord），各实体核心属性与关联关系如下：
核心实体属性：
用户（User）：用户 ID（主键）、用户名、密码（加密存储）、手机号、真实姓名、身份证号（加密）、人脸认证状态、实名认证状态、诚信值、注册时间、最后登录时间；
闲置物品（Goods）：物品 ID（主键）、用户 ID（外键，关联 User）、名称、品类、描述、价格、图片路径、发布时间、状态（上架 / 下架）、是否已交易；
心愿单（Wishlist）：心愿单 ID（主键）、用户 ID（外键，关联 User）、物品名称、品类、期望价格区间、需求描述、提交时间、匹配状态；
订单（Order）：订单 ID（主键）、买家 ID（外键，关联 User）、卖家 ID（外键，关联 User）、物品 ID（外键，关联 Goods）、订单金额、订单状态（待支付 / 已支付 / 已完成 / 已取消）、创建时间、支付时间、确认收货时间；
聊天记录（Chat）：聊天 ID（主键）、发送方 ID（外键，关联 User）、接收方 ID（外键，关联 User）、消息内容、发送时间、读取状态；
举报信息（Report）：举报 ID（主键）、举报方 ID（外键，关联 User）、被举报方 ID（外键，关联 User）、举报类型、举报描述、证据路径、提交时间、处理状态、处理结果、处理人 ID、处理时间；
诚信值记录（CreditRecord）：记录 ID（主键）、用户 ID（外键，关联 User）、变更类型（评价 / 违规）、变更分值、当前诚信值、变更原因、变更时间；
实体关联关系：
User 与 Goods：一对多关系（一个用户可发布多个物品，一个物品归属一个用户）；
User 与 Wishlist：一对多关系（一个用户可提交多个心愿单，一个心愿单归属一个用户）；
User 与 Order：一对多关系（一个用户可作为买家 / 卖家创建多个订单，一个订单关联一个买家和一个卖家）；
User 与 Chat：一对多关系（一个用户可发送 / 接收多条聊天记录，一条聊天记录关联一个发送方和一个接收方）；
User 与 Report：一对多关系（一个用户可发起多个举报，一个举报关联一个举报方和一个被举报方）；
User 与 CreditRecord：一对多关系（一个用户可有多条诚信值变更记录，一条记录归属一个用户）；
Goods 与 Order：一对一关系（一个物品仅可生成一个有效订单，一个订单关联一个物品）。
（注：ER 图需结合上述实体与关联关系，采用标准 ER 图符号绘制，清晰展示实体、属性及关系类型，此处以文字描述核心逻辑）

4.4.2 核心数据表设计（用户表、物品表、心愿单表）
